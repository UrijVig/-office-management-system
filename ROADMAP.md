# Этапы развития приложения

## 1 Этап - подготовка платформы  

На этом этапе создаётся основная идея приложения, а так же закладывается фундамент архитектуры. Определяються инструменты разработки, разрабатываются структуры баз данных и классов, зависимости и окружение.

- ~~выбор инструментов и окружения~~
    - Основным языком программирования был выбран **JAVA** и фреймворк **Spring**, из-за огромных инструментария и возможносте. 
    - Платформой для разработки стала **WS Code** (доступность, кастомизация)
    - На начальном этапе развития была выбрана **H2 database**, за легковесность и простоту настройки
    - Инструмент для осуществления миграций **flyway**
    - Для отображения результатов работы программы в браузере используется шаблонизатор **tymeleaf**
    - **Spring Security** был выбран в качестве инструмента обеспечения безопасности
- ~~подготовка основной архитектуры приложения~~
    - В качестве базовой архитектуры была выбрана классическая **MVC** структура подробности будут описаны в файле [ARCHITECTURE.md](ARCHITECTURE.md)
- ~~разработка базы данных~~
    - Для начала работы была создана простейшая таблица **Employees** с базовыми полями для возможности дальнейшей авторизации и проверки её работоспособности
- ~~создание первого рабочего элемента приложения~~
    - За первый рабочий элемент будет принята система аутентификации/авторизации, так как она явно покажет работоспособность всех ранее рассмотренных компонентов, выбранных для разработки, а именно: 
        * систему ролей (уровней доступа и работу безопасности соответственно)
        * работу базы данных (работу миграций)
        * работу шаблонизатора, и отображение базховых страниц
        * работу основных классов, контроллеров и репозиториев, зависимостей и компанентов программы (базовый CRUD)

На данном этапе не рассматривалась валидация данных, обработка ошибок и система уникальных данных (система ролей). Так же не было полностью сформированно "средство управления учётными записями" Необходимо разработать систему смены пароля, контроля срока работы учётной записи, систему работы в личном кабинете и так далее. Необходимо доработать сам объект "сотрудник" для того, чтобы его можно было далее масштабировать под работу с другими компонентами.

## 2 Этап - Создание системы учёта сотрудников  

Данный этап предназначен для создания полноценной системы хранения и управления учётными записями, а так же рабочей системой отображения уникальных данных, согласно уровню доступа сотрудника. На данном этапе планируется реализовать следующие задачи:

- ~~Создать структуру базы данных сотрудников, гибкую для масштабирования, и подробную, для управления.~~
    - ~~разделить структуры сотрудника и уровней доступа~~
    > Поле Ролей было вынесено в отдельный класс, под который была выделена отдельная таблица, связанная с таблицей сотрудников.  
    - ~~добавить необходимые поля для управления~~
    > Все связанные с сущностями сотрудника классы так же подверглись изменению в связи с тем, что были добавлены новые поля. 
    - ~~модернизировать/добавить файлы миграций~~ 
    > Файлы миграции были полностью переписаны в связи с их небольшим объёмом.
    - Прямая связь между контроллером и репозиторием была разорвана за счёт подключения сервиса работы с учётными записями сотрудников.
- ~~Реализовать проверку/валидацию данных на этапе страниц/контроллеров/базы данных~~
    - ~~добавить зависимости валидирования данных~~
    - ~~описать необходимые параметры~~
    - Были добавлены все необходимые параметры и аннотации для валидирования данных, вводимых пользователем
- ~~Добавить систему обработки и отображения ошибок~~
    - Начата работа по внедрению исключений, а так же их выводу на экран пользователя
- ~~Реализовать систему уровней доступа~~
    - ~~Добавить личный кабинет пользователей, с различным доступным функционалом~~
    > В личном кабинете доступна базовая информация об аккаунте, а так же возсожность выхода из аккаунта, дальнейший функционал будет развиваться с появлением новых элементов БД
    - ~~Добавить уникальное для каждого уровня доступа меню~~
    > Добавлены элементы навигации в зависимости от уровней доступа аккаунта
    - ~~добавить возможность управления паролями, а так же усложнить их конструкцию~~
    > Создано 2 вида редактирования пароля, редактирование самими сотрудниками, и редактирование старшими сотрудниками при необходимости
- ~~Внести дополнения и изменения в проект для отладки и тестирования ~~
    - ~~Настроить систему логирования и отображения различного рода ошибок~~
    - ~~Протестировать уже реализованные функции и исправить их недочёты~~
    - ~~Написать javadok комментарии к методам и классам для документирования проекта~~
    - ~~Продумать и создать систему автотестирования~~ (отложено до готовой структуры)
- ~~Расширить базовый CRUD до полноценного управления учётными записями~~
    - ~~Добавить станицу просмотра профилей пользователей~~
    - ~~Доработать функционал обработки времени обновления различных компонентов УЗ~~  

## 3 Этап - Добавление системы учёта оборудования

Данный этап предназначен для ведения учёта оборудования, его добавления на счёт компании и списания. Необходимо учесть стоимость оборудования, даты поставок и каких либо вмешательств (ремонт, обслуживание) для своевременной замены или списания оборудования. Внесение оборудования должно быть простым и вариантивным, ведение учёта должно быть интуитивно понятным, а списание простым, но информативным. На данном этапе необходимо базово удовлетворить описанные выше критерии, не углубляясь в подробности или сложные системы.

- ~~Организовать структуру базы данных для учёта оборудования~~
    - ~~Создать и описать необходимые сущности объектов для их хранения в БД~~
    > Для учёта оборудования создана универсальная структура, с подробной информацией об объектах. Необходимые для оценки параметры. Возможности отслеживания срока службы и обслуживания. Возможность дополнения информации путём точного описания или же редактирования таблиц местоположения, типа оборудования, или статуса оборудования. Настроены простые связи между таблицами
    - ~~Прописать и настроить миграции для оборудования~~
    > Добавлены тестовые миграции для создания и заполнения таблиц данными, с которыми можно будет работать при проверке контроллеров, форм и сервисов.
    - ~~Создать репозитории для управления БД~~
    > Наследование от JPARepository для всех используемых репозиториев
    - ~~Создать базовые DTO объекты, дублирующие созданные сущности~~
    > Создание EquipmentDTO для работы с формами оборудования
- ~~Описать сервисный слой для управления оборудованием~~
    - ~~Добавить базовые CRUD операции~~
    > Отображение, добавление, редактирование удаление - done.
    - ~~Дополнить функциональность сервисного слоя~~
    > Добавлена фильтрация по типу оборудования, отдельное редактирование местоположения и статуса оборудования, получение отдельных элементов по id
- ~~Добавить mvc контроллер для работы с оборудованием~~
    - ~~Внести CRUD функционал~~
    - ~~Разделение уровней доступа к информации об оборудовании по ролям~~
- ~~Работа с исключениями и ошибками~~
    - ~~Валидация данных в DTO объектах~~
    - ~~Создание собственных исключений при необходимости~~
    - ~~Настройка Логирования и отображения ошибок~~
- ~~Создании thymeleaf шаблонов для работы контронтроллера~~
    - ~~Создание отдельного файла для меню/шапки/подвала~~
    - ~~Отображение согласно уровню доступа~~
- ~~Корректировка, исправление недочётов внесение правок~~
    > Список ролей для выбора, а так же типов оборудования, статуса или местоположения теперь подгружается в форму из БД. Добавлена стилизация сообщений об ошибках. Улучшена структура шаблонов, для зальнейшей возможности добавления стилей.

## 4 Этап - Добавление системы учёта рабочих мест

Этап сочетающий в себе работу предыдущих систем. Необходимо реализовать логику сборки рабочих мест из имеющегося оборудования, а так же учёта пользователя, работающего за данным пк. Рабочее место должно возвращать список оборудования, и нынешнего/последнего сотрудника, работающего за ним. В системе учёта пользователей так же необходимо добавить отображение последнего рабочего места пользователя.

- ~~Работа с БД~~
    - ~~Продумать сущность и структуру таблицы~~
    > Создана таблица workplaces с описанием рабочих мест, а так же добавлены вторичные ключи в employees и equipments.
    - ~~Связать рабочие места с оборудованием и сотрудниками~~
    > создана необходимая сущность, с возможностями сохранения сотрудника и списка оборудования.
    - ~~Создать необходимые миграции для усовершенствования таблиц~~
    > Добавлены миграции создания, заполнения и изменения необходимых таблиц.
    - ~~добавить необходимые репозитории~~
- ~~Работа сервисного слоя~~
    - ~~Добавить базовый CRUD~~
    - ~~Дополнить/исправить имеющийся функционал~~
        - ~~обновление рабочего места сотрудника~~
        - ~~редактирование статусов и локаций оборудования~~
        - ~~сборка рабочего места из имеющегося оборудования~~
        - ~~замена оборудования в рабочих местах~~
- ~~Работа с исключениями   ~~     
    - ~~Создать новые при необходимости~~
    - ~~Настроить сервис для работы без сбоев программы~~
- ~~Добавить контроллер для работы с рабочими местами~~
    - ~~Создать необходимые DTO объекты для работы~~
    - ~~Настроить валидацию данных~~
    - ~~Создать методы для работы с формами отображения~~
    - ~~Прописать логирование работы контроллера~~
    - ~~Прописать работу с ошибками валидации~~
- ~~Работа с шаблонами thymeleaf ~~
    - ~~Страница отображения списка рабочих мест~~
    - ~~Карточка рабочего места~~
    - ~~Конструктор рабочего места (из имеющегося оборудования)~~
    - ~~Редактирование рабочего места~~
        - ~~редактирование описания~~
        - ~~замена оборудования~~
- ~~Работа над ошибками~~
    > Были исправлены некоторые недочёты контроллеров, а так же шаблонов.

В ходе работы над данным этапом были выявлены недостатки, а так же нехватка функционала программы. В будущих этапах необходимо будет реализовать следующие функции:
- Отслеживание состояния оборудования и его расположения
- Фильтрации на страницах отображения
- Пагинация на страницах отображения
- Поэтапный конструктор (или выпадающие списки согласно типу оборудования)
- Добавление и редактирование типов оборудования/статусов оборудования/местоположения оборудования
- Редактирование и добавление локаций для рабочих мест
- Уведомления системных администраторов о истёкшем сроке эксплуатации или скором обслуживании

Кроме того, перед преходом к созданию системы заявок необходимо реализовать следующие шаги в развитии приложения:
- Выход на REST API для будущего масштабирования
- Описать документацию и комментарии к методам классам
- Настроить и подключить постоянную базу данных для работы
- Продумать шаги по следующему усовершенствованию приложения

## 5 Этап - Добавить REST API


## 6 Этап - Развёртывание приложения для доступа из внешних источников


## 7 Этап - Добавление системы учёта заявок

На данном этапе необходимо реальзовать логику системы заявк, регистрирующих пользователя, рабочее место, а так же критический компонент оборудования при необходимости. Типовые заявки, такие как: увольнение, повышение, замена оборудования - должны иметь шаблонные возможности решения. Необходимо добавить систему отчётности по выполненым заявкам для сотрудников.